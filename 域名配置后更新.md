# 🔄 配置自定义域名后的更新步骤

## 📋 配置域名后需要更新的内容

### 1. 更新Render的CORS配置

如果前端使用了自定义域名（如：`seooptimizer.com`），需要更新Render的CORS设置。

#### 步骤：

1. **登录Render**
   - 访问：https://render.com
   - 进入您的Web Service

2. **更新环境变量**
   - 点击 "Environment" 标签页
   - 找到 `CORS_ORIGIN`
   - 更新为您的自定义域名：
     ```
     https://seooptimizer.com
     ```
   - 保存

3. **等待重新部署**
   - Render会自动重新部署
   - 等待1-2分钟

---

### 2. 更新前端config.js（如果后端也使用自定义域名）

如果后端也配置了自定义域名（如：`api.seooptimizer.com`），需要更新前端配置。

#### 编辑 config.js：

```javascript
production: {
    // 如果后端使用自定义域名
    apiBaseUrl: 'https://api.seooptimizer.com/api'
    
    // 或继续使用Render域名（推荐，更简单）
    // apiBaseUrl: 'https://seo-optimizer-pro.onrender.com/api'
}
```

#### 提交更改：

```bash
git add config.js
git commit -m "Update API URL for custom domain"
git push
```

Vercel会自动重新部署。

---

## 🎯 推荐配置方案

### 方案1：只配置前端域名（推荐，最简单）

**配置**：
- 前端：`https://seooptimizer.com`（自定义域名）
- 后端：`https://seo-optimizer-pro.onrender.com`（继续使用Render域名）

**需要更新**：
- ✅ Render的CORS_ORIGIN：`https://seooptimizer.com`
- ❌ 不需要更新config.js（继续使用Render域名）

**优点**：
- 配置简单
- 用户看到专业域名
- 后端无需额外配置

### 方案2：前后端都使用自定义域名

**配置**：
- 前端：`https://seooptimizer.com`
- 后端：`https://api.seooptimizer.com`

**需要更新**：
- ✅ Render的CORS_ORIGIN：`https://seooptimizer.com`
- ✅ config.js的production.apiBaseUrl：`https://api.seooptimizer.com/api`
- ✅ 在Render配置自定义域名：`api.seooptimizer.com`

**优点**：
- 更专业
- 统一品牌

---

## 📝 更新检查清单

### 域名配置
- [ ] 域名已购买
- [ ] DNS已配置
- [ ] Vercel域名已验证
- [ ] 可以访问自定义域名

### CORS配置
- [ ] Render的CORS_ORIGIN已更新为自定义域名
- [ ] Render已重新部署
- [ ] 测试功能正常

### 代码更新（如果后端使用自定义域名）
- [ ] config.js已更新
- [ ] 代码已提交并推送
- [ ] Vercel已重新部署

---

## 🧪 测试验证

### 1. 测试前端访问

访问您的自定义域名：
```
https://seooptimizer.com
```

应该能看到网站正常显示。

### 2. 测试SEO分析功能

1. 访问：`https://seooptimizer.com/seo-analyzer.html`
2. 尝试分析一个网站
3. 查看Network标签页
4. 应该不再有CORS错误
5. 应该能正常获取分析结果

### 3. 检查SSL证书

浏览器地址栏应该显示🔒（安全连接）。

---

## 🔍 如果遇到问题

### 问题：仍然有CORS错误

**检查**：
1. Render的CORS_ORIGIN是否正确
2. 是否包含 `https://`
3. 是否已重新部署

### 问题：网站无法访问

**检查**：
1. DNS是否正确配置
2. DNS是否已生效（使用dnschecker.org检查）
3. Vercel域名状态是否为"Valid"

---

**配置完成后，您的网站就可以使用专业域名了！** 🎉


